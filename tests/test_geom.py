import os
import unittest
from copy import deepcopy

import numpy as np
from ccfm.cfm_io import (
    read_json,
    make_3d_tri_multipolygon,
    write_cfm_tri_meshes,
)


from ccfm.geom import (
    # destination_pt_at_bearing_distance,
    mean_azimuth,
    azimuth,
    haversine_distance,
    terminal_coords_from_bearing_dist,
    polyline_seg_lengths,
    polyline_length,
    _resample_polyline,
    adjust_sampling_distance,
    sample_polyline,
    sample_polyline_to_n_pts,
    shift_fault_trace,
    is_correct_direction,
    get_values_at_coordinates,
    get_values_at_coordinates_gdal,
    get_resampled_trace_elevations,
    add_fixed_elev_to_trace,
    make_3d_fault_mesh,
    make_tri_mesh,
    _straight_profile_n_pts,
    _draw_pt_profile,
    get_contours_from_profiles,
)

_BASE_PATH = os.path.dirname(__file__)
_TEST_DATA_DIR = os.path.join(_BASE_PATH, "data")


lax = (118.4, 33.95)
jfk = (73.78333333333333, 40.63333333333333)

# def test_destination_pt_at_bearing_distance():
#    dest_pt_1 = destination_pt_at_bearing_distance(0.0, 0.0, 90.0, 1.0)
#    np.testing.assert_array_almost_equal(dest_pt_1, np.array([1.0, 0.0]))


def test_mean_azimuth():
    f_trace = np.array(
        [
            [-121.37575, 36.93768],
            [-121.33534, 36.89357],
            [-121.29735, 36.85596],
            [-121.25795, 36.81047],
            [-121.2073, 36.75499],
        ]
    )
    f_mean_azimuth = mean_azimuth(f_trace)
    np.testing.assert_almost_equal(f_mean_azimuth, 143.564973, decimal=3)


def test_azimuth():
    lax = (118.4, 33.95)
    jfk = (73.78333333333333, 40.63333333333333)

    az_lax_jfk = azimuth(lax[0], lax[1], jfk[0], jfk[1])
    # the answer is backwards...
    # not fixing until the mesh building functions are tested.
    np.testing.assert_almost_equal(az_lax_jfk, 294.1078, decimal=2)


class TestFaultFunctionsSimple(unittest.TestCase):

    def setUp(self):
        fault_file = os.path.join(_TEST_DATA_DIR, "simple_test_faults.geojson")

        self.faults = read_json(fault_file)['features']

    def test_make_3d_fault_horizontal(self):
        mesh = make_3d_fault_mesh(
            self.faults[0],
            lower_depth=None,
            pt_distance=2.0,
            lower_depth_default=16.0,
            check_dip_dir=False,
            decimals=3,
        )

        assert mesh == make_3d_fault_horizontal_mesh

        # to separately test output in qgis etc.
        outfile = os.path.join(_TEST_DATA_DIR, "3d_horiz_fault.geojson")
        tri_mesh = make_tri_mesh(mesh)
        write_cfm_tri_meshes(outfile, [tri_mesh], [self.faults[0]])

    def test_make_3d_fault_topo(self):
        dem = os.path.join(_TEST_DATA_DIR, "oly_pug_test_dem.tif")
        topo_fault = deepcopy(self.faults[0])
        topo_fault['properties']['name'] = "topo_fault"

        z_vals = get_values_at_coordinates_gdal(
            dem, topo_fault['geometry']['coordinates']
        )

        for i, z in enumerate(z_vals):
            assert len(topo_fault['geometry']['coordinates'][i]) == 2
            topo_fault['geometry']['coordinates'][i].append(z)

        mesh = make_3d_fault_mesh(
            topo_fault,
            lower_depth=None,
            pt_distance=2.0,
            lower_depth_default=16.0,
            check_dip_dir=False,
            decimals=3,
        )

        # to separately test output in qgis etc.
        outfile = os.path.join(_TEST_DATA_DIR, "3d_elev_fault.geojson")
        tri_mesh = make_tri_mesh(mesh)
        write_cfm_tri_meshes(outfile, [tri_mesh], [topo_fault])


make_3d_fault_horizontal_mesh = [
    [
        [-123.153, 47.778, 0.0],
        [-123.132, 47.767, 0.0],
        [-123.111, 47.756, 0.0],
        [-123.09, 47.745, 0.0],
        [-123.069, 47.733, 0.0],
        [-123.048, 47.722, 0.0],
        [-123.027, 47.711, 0.0],
        [-123.006, 47.699, 0.0],
        [-122.984, 47.689, 0.0],
        [-122.962, 47.678, 0.0],
        [-122.94, 47.668, 0.0],
        [-122.918, 47.658, 0.0],
        [-122.894, 47.649, 0.0],
        [-122.873, 47.638, 0.0],
        [-122.856, 47.625, 0.0],
        [-122.838, 47.611, 0.0],
        [-122.821, 47.597, 0.0],
        [-122.803, 47.584, 0.0],
        [-122.783, 47.572, 0.0],
        [-122.758, 47.566, 0.0],
        [-122.733, 47.56, 0.0],
        [-122.708, 47.555, 0.0],
        [-122.682, 47.549, 0.0],
        [-122.657, 47.543, 0.0],
        [-122.632, 47.537, 0.0],
        [-122.606, 47.531, 0.0],
        [-122.581, 47.525, 0.0],
        [-122.556, 47.519, 0.0],
        [-122.531, 47.513, 0.0],
        [-122.505, 47.507, 0.0],
        [-122.48, 47.501, 0.0],
        [-122.455, 47.495, 0.0],
        [-122.43, 47.489, 0.0],
        [-122.404, 47.484, 0.0],
        [-122.378, 47.487, 0.0],
        [-122.351, 47.489, 0.0],
        [-122.324, 47.491, 0.0],
        [-122.298, 47.493, 0.0],
    ],
    [
        [-123.161, 47.767, -1428.571],
        [-123.14, 47.756, -1428.571],
        [-123.119, 47.744, -1428.571],
        [-123.098, 47.733, -1428.571],
        [-123.077, 47.722, -1428.571],
        [-123.056, 47.71, -1428.571],
        [-123.035, 47.699, -1428.571],
        [-123.014, 47.688, -1428.571],
        [-122.993, 47.677, -1428.571],
        [-122.97, 47.667, -1428.571],
        [-122.948, 47.657, -1428.571],
        [-122.926, 47.646, -1428.571],
        [-122.903, 47.638, -1428.571],
        [-122.882, 47.627, -1428.571],
        [-122.864, 47.613, -1428.571],
        [-122.847, 47.6, -1428.571],
        [-122.829, 47.586, -1428.571],
        [-122.812, 47.572, -1428.571],
        [-122.792, 47.561, -1428.571],
        [-122.767, 47.555, -1428.571],
        [-122.741, 47.549, -1428.571],
        [-122.716, 47.543, -1428.571],
        [-122.691, 47.537, -1428.571],
        [-122.665, 47.531, -1428.571],
        [-122.64, 47.525, -1428.571],
        [-122.615, 47.519, -1428.571],
        [-122.59, 47.513, -1428.571],
        [-122.564, 47.507, -1428.571],
        [-122.539, 47.501, -1428.571],
        [-122.514, 47.495, -1428.571],
        [-122.488, 47.489, -1428.571],
        [-122.463, 47.483, -1428.571],
        [-122.438, 47.477, -1428.571],
        [-122.413, 47.473, -1428.571],
        [-122.386, 47.475, -1428.571],
        [-122.359, 47.477, -1428.571],
        [-122.333, 47.48, -1428.571],
        [-122.306, 47.482, -1428.571],
    ],
    [
        [-123.17, 47.755, -2857.143],
        [-123.149, 47.744, -2857.143],
        [-123.128, 47.733, -2857.143],
        [-123.107, 47.721, -2857.143],
        [-123.086, 47.71, -2857.143],
        [-123.065, 47.699, -2857.143],
        [-123.044, 47.687, -2857.143],
        [-123.023, 47.676, -2857.143],
        [-123.001, 47.666, -2857.143],
        [-122.979, 47.655, -2857.143],
        [-122.957, 47.645, -2857.143],
        [-122.935, 47.635, -2857.143],
        [-122.911, 47.626, -2857.143],
        [-122.89, 47.615, -2857.143],
        [-122.873, 47.602, -2857.143],
        [-122.855, 47.588, -2857.143],
        [-122.838, 47.574, -2857.143],
        [-122.82, 47.561, -2857.143],
        [-122.8, 47.549, -2857.143],
        [-122.775, 47.543, -2857.143],
        [-122.75, 47.537, -2857.143],
        [-122.724, 47.531, -2857.143],
        [-122.699, 47.526, -2857.143],
        [-122.674, 47.52, -2857.143],
        [-122.648, 47.514, -2857.143],
        [-122.623, 47.508, -2857.143],
        [-122.598, 47.502, -2857.143],
        [-122.573, 47.496, -2857.143],
        [-122.547, 47.49, -2857.143],
        [-122.522, 47.484, -2857.143],
        [-122.497, 47.478, -2857.143],
        [-122.472, 47.472, -2857.143],
        [-122.446, 47.466, -2857.143],
        [-122.421, 47.461, -2857.143],
        [-122.394, 47.464, -2857.143],
        [-122.368, 47.466, -2857.143],
        [-122.341, 47.468, -2857.143],
        [-122.314, 47.47, -2857.143],
    ],
    [
        [-123.178, 47.744, -4285.714],
        [-123.157, 47.733, -4285.714],
        [-123.136, 47.721, -4285.714],
        [-123.115, 47.71, -4285.714],
        [-123.094, 47.699, -4285.714],
        [-123.073, 47.687, -4285.714],
        [-123.052, 47.676, -4285.714],
        [-123.031, 47.665, -4285.714],
        [-123.009, 47.654, -4285.714],
        [-122.987, 47.644, -4285.714],
        [-122.965, 47.634, -4285.714],
        [-122.943, 47.623, -4285.714],
        [-122.92, 47.615, -4285.714],
        [-122.898, 47.604, -4285.714],
        [-122.881, 47.59, -4285.714],
        [-122.863, 47.577, -4285.714],
        [-122.846, 47.563, -4285.714],
        [-122.828, 47.549, -4285.714],
        [-122.809, 47.538, -4285.714],
        [-122.783, 47.532, -4285.714],
        [-122.758, 47.526, -4285.714],
        [-122.733, 47.52, -4285.714],
        [-122.707, 47.514, -4285.714],
        [-122.682, 47.508, -4285.714],
        [-122.657, 47.502, -4285.714],
        [-122.632, 47.496, -4285.714],
        [-122.606, 47.49, -4285.714],
        [-122.581, 47.484, -4285.714],
        [-122.556, 47.478, -4285.714],
        [-122.531, 47.472, -4285.714],
        [-122.505, 47.466, -4285.714],
        [-122.48, 47.46, -4285.714],
        [-122.455, 47.454, -4285.714],
        [-122.429, 47.45, -4285.714],
        [-122.403, 47.452, -4285.714],
        [-122.376, 47.454, -4285.714],
        [-122.35, 47.457, -4285.714],
        [-122.323, 47.459, -4285.714],
    ],
    [
        [-123.186, 47.732, -5714.286],
        [-123.165, 47.721, -5714.286],
        [-123.144, 47.71, -5714.286],
        [-123.123, 47.698, -5714.286],
        [-123.102, 47.687, -5714.286],
        [-123.082, 47.676, -5714.286],
        [-123.061, 47.664, -5714.286],
        [-123.04, 47.653, -5714.286],
        [-123.018, 47.643, -5714.286],
        [-122.996, 47.632, -5714.286],
        [-122.974, 47.622, -5714.286],
        [-122.951, 47.612, -5714.286],
        [-122.928, 47.603, -5714.286],
        [-122.907, 47.592, -5714.286],
        [-122.889, 47.579, -5714.286],
        [-122.872, 47.565, -5714.286],
        [-122.854, 47.551, -5714.286],
        [-122.837, 47.538, -5714.286],
        [-122.817, 47.526, -5714.286],
        [-122.792, 47.52, -5714.286],
        [-122.766, 47.514, -5714.286],
        [-122.741, 47.508, -5714.286],
        [-122.716, 47.502, -5714.286],
        [-122.691, 47.497, -5714.286],
        [-122.665, 47.491, -5714.286],
        [-122.64, 47.485, -5714.286],
        [-122.615, 47.479, -5714.286],
        [-122.589, 47.473, -5714.286],
        [-122.564, 47.467, -5714.286],
        [-122.539, 47.461, -5714.286],
        [-122.514, 47.455, -5714.286],
        [-122.488, 47.449, -5714.286],
        [-122.463, 47.443, -5714.286],
        [-122.438, 47.438, -5714.286],
        [-122.411, 47.441, -5714.286],
        [-122.385, 47.443, -5714.286],
        [-122.358, 47.445, -5714.286],
        [-122.331, 47.447, -5714.286],
    ],
    [
        [-123.195, 47.721, -7142.857],
        [-123.174, 47.709, -7142.857],
        [-123.153, 47.698, -7142.857],
        [-123.132, 47.687, -7142.857],
        [-123.111, 47.676, -7142.857],
        [-123.09, 47.664, -7142.857],
        [-123.069, 47.653, -7142.857],
        [-123.048, 47.642, -7142.857],
        [-123.026, 47.631, -7142.857],
        [-123.004, 47.621, -7142.857],
        [-122.982, 47.611, -7142.857],
        [-122.96, 47.6, -7142.857],
        [-122.936, 47.592, -7142.857],
        [-122.915, 47.581, -7142.857],
        [-122.898, 47.567, -7142.857],
        [-122.88, 47.553, -7142.857],
        [-122.863, 47.54, -7142.857],
        [-122.845, 47.526, -7142.857],
        [-122.825, 47.515, -7142.857],
        [-122.8, 47.509, -7142.857],
        [-122.775, 47.503, -7142.857],
        [-122.75, 47.497, -7142.857],
        [-122.724, 47.491, -7142.857],
        [-122.699, 47.485, -7142.857],
        [-122.674, 47.479, -7142.857],
        [-122.648, 47.473, -7142.857],
        [-122.623, 47.467, -7142.857],
        [-122.598, 47.461, -7142.857],
        [-122.573, 47.455, -7142.857],
        [-122.547, 47.449, -7142.857],
        [-122.522, 47.443, -7142.857],
        [-122.497, 47.437, -7142.857],
        [-122.472, 47.431, -7142.857],
        [-122.446, 47.427, -7142.857],
        [-122.42, 47.429, -7142.857],
        [-122.393, 47.431, -7142.857],
        [-122.366, 47.434, -7142.857],
        [-122.34, 47.436, -7142.857],
    ],
    [
        [-123.203, 47.709, -8571.429],
        [-123.182, 47.698, -8571.429],
        [-123.161, 47.687, -8571.429],
        [-123.14, 47.675, -8571.429],
        [-123.119, 47.664, -8571.429],
        [-123.098, 47.653, -8571.429],
        [-123.077, 47.641, -8571.429],
        [-123.056, 47.63, -8571.429],
        [-123.035, 47.62, -8571.429],
        [-123.013, 47.609, -8571.429],
        [-122.99, 47.599, -8571.429],
        [-122.968, 47.589, -8571.429],
        [-122.945, 47.58, -8571.429],
        [-122.924, 47.569, -8571.429],
        [-122.906, 47.556, -8571.429],
        [-122.889, 47.542, -8571.429],
        [-122.871, 47.528, -8571.429],
        [-122.854, 47.515, -8571.429],
        [-122.834, 47.503, -8571.429],
        [-122.809, 47.497, -8571.429],
        [-122.783, 47.491, -8571.429],
        [-122.758, 47.485, -8571.429],
        [-122.733, 47.479, -8571.429],
        [-122.707, 47.473, -8571.429],
        [-122.682, 47.468, -8571.429],
        [-122.657, 47.462, -8571.429],
        [-122.631, 47.456, -8571.429],
        [-122.606, 47.45, -8571.429],
        [-122.581, 47.444, -8571.429],
        [-122.556, 47.438, -8571.429],
        [-122.53, 47.432, -8571.429],
        [-122.505, 47.426, -8571.429],
        [-122.48, 47.42, -8571.429],
        [-122.454, 47.415, -8571.429],
        [-122.428, 47.418, -8571.429],
        [-122.401, 47.42, -8571.429],
        [-122.375, 47.422, -8571.429],
        [-122.348, 47.424, -8571.429],
    ],
    [
        [-123.212, 47.698, -10000.0],
        [-123.191, 47.686, -10000.0],
        [-123.17, 47.675, -10000.0],
        [-123.149, 47.664, -10000.0],
        [-123.128, 47.652, -10000.0],
        [-123.107, 47.641, -10000.0],
        [-123.086, 47.63, -10000.0],
        [-123.065, 47.619, -10000.0],
        [-123.043, 47.608, -10000.0],
        [-123.021, 47.598, -10000.0],
        [-122.999, 47.587, -10000.0],
        [-122.977, 47.577, -10000.0],
        [-122.953, 47.569, -10000.0],
        [-122.932, 47.558, -10000.0],
        [-122.915, 47.544, -10000.0],
        [-122.897, 47.53, -10000.0],
        [-122.88, 47.517, -10000.0],
        [-122.862, 47.503, -10000.0],
        [-122.842, 47.492, -10000.0],
        [-122.817, 47.486, -10000.0],
        [-122.792, 47.48, -10000.0],
        [-122.766, 47.474, -10000.0],
        [-122.741, 47.468, -10000.0],
        [-122.716, 47.462, -10000.0],
        [-122.69, 47.456, -10000.0],
        [-122.665, 47.45, -10000.0],
        [-122.64, 47.444, -10000.0],
        [-122.615, 47.438, -10000.0],
        [-122.589, 47.432, -10000.0],
        [-122.564, 47.426, -10000.0],
        [-122.539, 47.42, -10000.0],
        [-122.514, 47.414, -10000.0],
        [-122.488, 47.408, -10000.0],
        [-122.463, 47.404, -10000.0],
        [-122.436, 47.406, -10000.0],
        [-122.41, 47.408, -10000.0],
        [-122.383, 47.41, -10000.0],
        [-122.356, 47.413, -10000.0],
    ],
    [
        [-123.22, 47.686, -11428.571],
        [-123.199, 47.675, -11428.571],
        [-123.178, 47.664, -11428.571],
        [-123.157, 47.652, -11428.571],
        [-123.136, 47.641, -11428.571],
        [-123.115, 47.63, -11428.571],
        [-123.094, 47.618, -11428.571],
        [-123.073, 47.607, -11428.571],
        [-123.051, 47.596, -11428.571],
        [-123.029, 47.586, -11428.571],
        [-123.007, 47.576, -11428.571],
        [-122.985, 47.566, -11428.571],
        [-122.962, 47.557, -11428.571],
        [-122.94, 47.546, -11428.571],
        [-122.923, 47.533, -11428.571],
        [-122.905, 47.519, -11428.571],
        [-122.888, 47.505, -11428.571],
        [-122.87, 47.491, -11428.571],
        [-122.851, 47.48, -11428.571],
        [-122.825, 47.474, -11428.571],
        [-122.8, 47.468, -11428.571],
        [-122.775, 47.462, -11428.571],
        [-122.749, 47.456, -11428.571],
        [-122.724, 47.45, -11428.571],
        [-122.699, 47.444, -11428.571],
        [-122.674, 47.438, -11428.571],
        [-122.648, 47.433, -11428.571],
        [-122.623, 47.427, -11428.571],
        [-122.598, 47.421, -11428.571],
        [-122.572, 47.415, -11428.571],
        [-122.547, 47.409, -11428.571],
        [-122.522, 47.403, -11428.571],
        [-122.497, 47.397, -11428.571],
        [-122.471, 47.392, -11428.571],
        [-122.445, 47.394, -11428.571],
        [-122.418, 47.397, -11428.571],
        [-122.392, 47.399, -11428.571],
        [-122.365, 47.401, -11428.571],
    ],
    [
        [-123.229, 47.675, -12857.143],
        [-123.208, 47.663, -12857.143],
        [-123.187, 47.652, -12857.143],
        [-123.166, 47.641, -12857.143],
        [-123.145, 47.629, -12857.143],
        [-123.124, 47.618, -12857.143],
        [-123.103, 47.607, -12857.143],
        [-123.082, 47.595, -12857.143],
        [-123.06, 47.585, -12857.143],
        [-123.038, 47.575, -12857.143],
        [-123.016, 47.564, -12857.143],
        [-122.993, 47.554, -12857.143],
        [-122.97, 47.545, -12857.143],
        [-122.949, 47.535, -12857.143],
        [-122.931, 47.521, -12857.143],
        [-122.914, 47.507, -12857.143],
        [-122.896, 47.494, -12857.143],
        [-122.879, 47.48, -12857.143],
        [-122.859, 47.469, -12857.143],
        [-122.834, 47.463, -12857.143],
        [-122.808, 47.457, -12857.143],
        [-122.783, 47.451, -12857.143],
        [-122.758, 47.445, -12857.143],
        [-122.732, 47.439, -12857.143],
        [-122.707, 47.433, -12857.143],
        [-122.682, 47.427, -12857.143],
        [-122.657, 47.421, -12857.143],
        [-122.631, 47.415, -12857.143],
        [-122.606, 47.409, -12857.143],
        [-122.581, 47.403, -12857.143],
        [-122.556, 47.397, -12857.143],
        [-122.53, 47.391, -12857.143],
        [-122.505, 47.385, -12857.143],
        [-122.48, 47.381, -12857.143],
        [-122.453, 47.383, -12857.143],
        [-122.426, 47.385, -12857.143],
        [-122.4, 47.387, -12857.143],
        [-122.373, 47.39, -12857.143],
    ],
    [
        [-123.237, 47.663, -14285.714],
        [-123.216, 47.652, -14285.714],
        [-123.195, 47.641, -14285.714],
        [-123.174, 47.629, -14285.714],
        [-123.153, 47.618, -14285.714],
        [-123.132, 47.607, -14285.714],
        [-123.111, 47.595, -14285.714],
        [-123.09, 47.584, -14285.714],
        [-123.068, 47.573, -14285.714],
        [-123.046, 47.563, -14285.714],
        [-123.024, 47.553, -14285.714],
        [-123.002, 47.543, -14285.714],
        [-122.978, 47.534, -14285.714],
        [-122.957, 47.523, -14285.714],
        [-122.94, 47.51, -14285.714],
        [-122.922, 47.496, -14285.714],
        [-122.905, 47.482, -14285.714],
        [-122.887, 47.468, -14285.714],
        [-122.867, 47.457, -14285.714],
        [-122.842, 47.451, -14285.714],
        [-122.817, 47.445, -14285.714],
        [-122.791, 47.439, -14285.714],
        [-122.766, 47.433, -14285.714],
        [-122.741, 47.427, -14285.714],
        [-122.716, 47.421, -14285.714],
        [-122.69, 47.415, -14285.714],
        [-122.665, 47.409, -14285.714],
        [-122.64, 47.403, -14285.714],
        [-122.614, 47.398, -14285.714],
        [-122.589, 47.392, -14285.714],
        [-122.564, 47.386, -14285.714],
        [-122.539, 47.38, -14285.714],
        [-122.513, 47.374, -14285.714],
        [-122.488, 47.369, -14285.714],
        [-122.461, 47.371, -14285.714],
        [-122.435, 47.374, -14285.714],
        [-122.408, 47.376, -14285.714],
        [-122.381, 47.378, -14285.714],
    ],
    [
        [-123.245, 47.652, -15714.286],
        [-123.224, 47.64, -15714.286],
        [-123.203, 47.629, -15714.286],
        [-123.182, 47.618, -15714.286],
        [-123.161, 47.606, -15714.286],
        [-123.14, 47.595, -15714.286],
        [-123.119, 47.584, -15714.286],
        [-123.098, 47.572, -15714.286],
        [-123.077, 47.562, -15714.286],
        [-123.055, 47.552, -15714.286],
        [-123.032, 47.541, -15714.286],
        [-123.01, 47.531, -15714.286],
        [-122.987, 47.522, -15714.286],
        [-122.966, 47.512, -15714.286],
        [-122.948, 47.498, -15714.286],
        [-122.931, 47.484, -15714.286],
        [-122.913, 47.471, -15714.286],
        [-122.896, 47.457, -15714.286],
        [-122.876, 47.445, -15714.286],
        [-122.85, 47.44, -15714.286],
        [-122.825, 47.434, -15714.286],
        [-122.8, 47.428, -15714.286],
        [-122.774, 47.422, -15714.286],
        [-122.749, 47.416, -15714.286],
        [-122.724, 47.41, -15714.286],
        [-122.699, 47.404, -15714.286],
        [-122.673, 47.398, -15714.286],
        [-122.648, 47.392, -15714.286],
        [-122.623, 47.386, -15714.286],
        [-122.598, 47.38, -15714.286],
        [-122.572, 47.374, -15714.286],
        [-122.547, 47.368, -15714.286],
        [-122.522, 47.362, -15714.286],
        [-122.496, 47.358, -15714.286],
        [-122.47, 47.36, -15714.286],
        [-122.443, 47.362, -15714.286],
        [-122.417, 47.364, -15714.286],
        [-122.39, 47.367, -15714.286],
    ],
    [
        [-123.254, 47.64, -17142.857],
        [-123.233, 47.629, -17142.857],
        [-123.212, 47.617, -17142.857],
        [-123.191, 47.606, -17142.857],
        [-123.17, 47.595, -17142.857],
        [-123.149, 47.584, -17142.857],
        [-123.128, 47.572, -17142.857],
        [-123.107, 47.561, -17142.857],
        [-123.085, 47.55, -17142.857],
        [-123.063, 47.54, -17142.857],
        [-123.041, 47.53, -17142.857],
        [-123.019, 47.52, -17142.857],
        [-122.995, 47.511, -17142.857],
        [-122.974, 47.5, -17142.857],
        [-122.956, 47.486, -17142.857],
        [-122.939, 47.473, -17142.857],
        [-122.921, 47.459, -17142.857],
        [-122.904, 47.445, -17142.857],
        [-122.884, 47.434, -17142.857],
        [-122.859, 47.428, -17142.857],
        [-122.833, 47.422, -17142.857],
        [-122.808, 47.416, -17142.857],
        [-122.783, 47.41, -17142.857],
        [-122.758, 47.404, -17142.857],
        [-122.732, 47.398, -17142.857],
        [-122.707, 47.392, -17142.857],
        [-122.682, 47.386, -17142.857],
        [-122.656, 47.38, -17142.857],
        [-122.631, 47.374, -17142.857],
        [-122.606, 47.368, -17142.857],
        [-122.581, 47.362, -17142.857],
        [-122.555, 47.356, -17142.857],
        [-122.53, 47.351, -17142.857],
        [-122.505, 47.346, -17142.857],
        [-122.478, 47.348, -17142.857],
        [-122.452, 47.351, -17142.857],
        [-122.425, 47.353, -17142.857],
        [-122.398, 47.355, -17142.857],
    ],
    [
        [-123.262, 47.629, -18571.429],
        [-123.241, 47.617, -18571.429],
        [-123.22, 47.606, -18571.429],
        [-123.199, 47.595, -18571.429],
        [-123.178, 47.583, -18571.429],
        [-123.157, 47.572, -18571.429],
        [-123.136, 47.561, -18571.429],
        [-123.115, 47.549, -18571.429],
        [-123.093, 47.539, -18571.429],
        [-123.071, 47.529, -18571.429],
        [-123.049, 47.518, -18571.429],
        [-123.027, 47.508, -18571.429],
        [-123.003, 47.499, -18571.429],
        [-122.982, 47.489, -18571.429],
        [-122.965, 47.475, -18571.429],
        [-122.947, 47.461, -18571.429],
        [-122.93, 47.447, -18571.429],
        [-122.912, 47.434, -18571.429],
        [-122.892, 47.422, -18571.429],
        [-122.867, 47.416, -18571.429],
        [-122.842, 47.411, -18571.429],
        [-122.817, 47.405, -18571.429],
        [-122.791, 47.399, -18571.429],
        [-122.766, 47.393, -18571.429],
        [-122.741, 47.387, -18571.429],
        [-122.715, 47.381, -18571.429],
        [-122.69, 47.375, -18571.429],
        [-122.665, 47.369, -18571.429],
        [-122.64, 47.363, -18571.429],
        [-122.614, 47.357, -18571.429],
        [-122.589, 47.351, -18571.429],
        [-122.564, 47.345, -18571.429],
        [-122.538, 47.339, -18571.429],
        [-122.513, 47.335, -18571.429],
        [-122.486, 47.337, -18571.429],
        [-122.46, 47.339, -18571.429],
        [-122.433, 47.341, -18571.429],
        [-122.407, 47.344, -18571.429],
    ],
    [
        [-123.271, 47.617, -20000.0],
        [-123.25, 47.606, -20000.0],
        [-123.229, 47.594, -20000.0],
        [-123.208, 47.583, -20000.0],
        [-123.187, 47.572, -20000.0],
        [-123.166, 47.56, -20000.0],
        [-123.145, 47.549, -20000.0],
        [-123.124, 47.538, -20000.0],
        [-123.102, 47.527, -20000.0],
        [-123.08, 47.517, -20000.0],
        [-123.058, 47.507, -20000.0],
        [-123.035, 47.497, -20000.0],
        [-123.012, 47.488, -20000.0],
        [-122.991, 47.477, -20000.0],
        [-122.973, 47.463, -20000.0],
        [-122.956, 47.45, -20000.0],
        [-122.938, 47.436, -20000.0],
        [-122.921, 47.422, -20000.0],
        [-122.901, 47.411, -20000.0],
        [-122.876, 47.405, -20000.0],
        [-122.85, 47.399, -20000.0],
        [-122.825, 47.393, -20000.0],
        [-122.8, 47.387, -20000.0],
        [-122.774, 47.381, -20000.0],
        [-122.749, 47.375, -20000.0],
        [-122.724, 47.369, -20000.0],
        [-122.698, 47.363, -20000.0],
        [-122.673, 47.357, -20000.0],
        [-122.648, 47.351, -20000.0],
        [-122.623, 47.345, -20000.0],
        [-122.597, 47.339, -20000.0],
        [-122.572, 47.333, -20000.0],
        [-122.547, 47.327, -20000.0],
        [-122.521, 47.323, -20000.0],
        [-122.495, 47.325, -20000.0],
        [-122.468, 47.328, -20000.0],
        [-122.442, 47.33, -20000.0],
        [-122.415, 47.332, -20000.0],
    ],
]
